<!DOCTYPE html>
<html lang="nl">
<head>
	<meta charset="utf-8">
	<title>Test</title>
	<!--<link rel="stylesheet" href="">-->
	<script src="/socket.io/socket.io.js"></script>
	<script>
		var socket = io();
	  
		socket.on('getSchepen', function (msg) {
			console.log(msg);
			var testdata = msg[0];
			var slagschepen = 0,
				onderzeeer = 0,
				torpedobootjager = 0,
				patrouilleschip = 0;
			for(var i = 0; i < testdata.length; i++)
			{
				if(testdata[i].naam == 'vliegdekschip')
				{
					testdata[i].x = 4;
					testdata[i].y = 9;
					testdata[i].position = 'horizontaal';
				}
				else if(testdata[i].naam == 'slagschip' && slagschepen == 0)
				{
					testdata[i].x = 6;
					testdata[i].y = 0;
					testdata[i].position = 'horizontaal';
					slagschepen = 1;
				}
				else if(testdata[i].naam == 'slagschip' && slagschepen == 1)
				{
					testdata[i].x = 0;
					testdata[i].y = 2;
					testdata[i].position = 'verticaal';
					slagschepen = 2;
				}
				else if(testdata[i].naam == 'onderzeeer' && onderzeeer == 0)
				{
					testdata[i].x = 3;
					testdata[i].y = 0;
					testdata[i].position = 'verticaal';
					onderzeeer = 1;
				}
				else if(testdata[i].naam == 'onderzeeer' && onderzeeer == 1)
				{
					testdata[i].x = 5;
					testdata[i].y = 2;
					testdata[i].position = 'horizontaal';
					onderzeeer = 2;
				}
				else if(testdata[i].naam == 'onderzeeer' && onderzeeer == 2)
				{
					testdata[i].x = 9;
					testdata[i].y = 5;
					testdata[i].position = 'verticaal';
					onderzeeer = 3;
				}
				else if(testdata[i].naam == 'torpedobootjager' && torpedobootjager == 0)
				{
					testdata[i].x = 2;
					testdata[i].y = 4;
					testdata[i].position = 'horizontaal';
					torpedobootjager = 1;
				}
				else if(testdata[i].naam == 'torpedobootjager' && torpedobootjager == 1)
				{
					testdata[i].x = 3;
					testdata[i].y = 6;
					testdata[i].position = 'verticaal';
					torpedobootjager = 2;
				}
				else if(testdata[i].naam == 'torpedobootjager' && torpedobootjager == 2)
				{
					testdata[i].x = 0;
					testdata[i].y = 9;
					testdata[i].position = 'horizontaal';
					torpedobootjager = 3;
				}
				else if(testdata[i].naam == 'patrouilleschip' && patrouilleschip == 0)
				{
					testdata[i].x = 0;
					testdata[i].y = 0;
					testdata[i].position = 'horizontaal';
					patrouilleschip = 1;
				}
				else if(testdata[i].naam == 'patrouilleschip' && patrouilleschip == 1)
				{
					testdata[i].x = 9;
					testdata[i].y = 2;
					testdata[i].position = 'verticaal';
					patrouilleschip = 2;
				}
				else if(testdata[i].naam == 'patrouilleschip' && patrouilleschip == 2)
				{
					testdata[i].x = 5;
					testdata[i].y = 5;
					testdata[i].position = 'verticaal';
					patrouilleschip = 3;
				}
				else if(testdata[i].naam == 'patrouilleschip' && patrouilleschip == 3)
				{
					testdata[i].x = 0;
					testdata[i].y = 7;
					testdata[i].position = 'horizontaal';
					patrouilleschip = 4;
				}
				
			}
			console.log(testdata);
			socket.emit('setSchepen', testdata);
		});
		
		socket.on('turn', function (msg) {
			console.log("Aan de beurt yeah!:" + msg);
			
			socket.emit('setShoot', [3, 4]);
		});
		
		socket.on('wait', function () {
			console.log("Even wachten hoor guys!");
		});
		
	</script>
</head>
<body>
	<p>Webpagina</p>
</body>
</html>